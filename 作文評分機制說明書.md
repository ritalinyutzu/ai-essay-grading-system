# 作文評分機制說明書

## 目錄
- [評分總覽](#評分總覽)
- [詳細評分標準](#詳細評分標準)
  - [一、內容評分](#一內容評分-0-35分)
  - [二、結構評分](#二結構評分-0-25分)
  - [三、文法評分](#三文法評分-0-25分)
  - [四、用詞評分](#四用詞評分-0-15分)
- [等級劃分](#等級劃分)
- [評分流程](#評分流程)

---

## 評分總覽

本評分系統採用**四大面向**進行綜合評估,總分為**100分**:

| 評分面向 | 配分 | 占比 |
|---------|------|------|
| 內容(Content) | 35分 | 35% |
| 結構(Structure) | 25分 | 25% |
| 文法(Grammar) | 25分 | 25% |
| 用詞(Vocabulary) | 15分 | 15% |
| **總計** | **100分** | **100%** |

---

## 詳細評分標準

### 一、內容評分 (0-35分)

內容評分著重於作文的**實質內涵**與**表達深度**,分為三個子項目:

#### 1.1 字數評分 (0-15分)

| 字數範圍 | 得分 | 評語 |
|---------|------|------|
| 800字以上 | 15分 | 字數充足 |
| 600-799字 | 12分 | 字數良好 |
| 400-599字 | 9分 | 字數適中 |
| 200-399字 | 6分 | 字數略少 |
| 200字以下 | 3分 | 字數不足 |

**評分原則:**
- 以繁體中文字元計算
- 標點符號計入字數
- 英文字母、數字計入字數

#### 1.2 論點完整性 (0-10分)

| 段落數量 | 得分 | 評語 |
|---------|------|------|
| 5段以上 | 10分 | 論述完整 |
| 4段 | 8分 | 論述良好 |
| 3段 | 6分 | 論述基本完整 |
| 2段以下 | 4分 | 論述不足 |

**評分原則:**
- 評估文章是否具備完整的起承轉合
- 檢查論點是否充分展開
- 確認各段落之間的邏輯連貫性

#### 1.3 內容豐富度 (0-10分)

基於**詞彙豐富度指標(TTR, Type-Token Ratio)**:

```
TTR = 不重複詞彙數 / 總詞彙數
```

| TTR值 | 得分 | 評語 |
|-------|------|------|
| ≥ 0.6 | 10分 | 用詞極為豐富 |
| 0.5-0.59 | 8分 | 用詞豐富 |
| 0.4-0.49 | 6分 | 用詞適中 |
| < 0.4 | 4分 | 用詞重複性高 |

---

### 二、結構評分 (0-25分)

結構評分關注作文的**組織架構**與**邏輯脈絡**,分為三個子項目:

#### 2.1 段落安排 (0-10分)

| 段落數量 | 得分 | 評語 |
|---------|------|------|
| 4-6段 | 10分 | 結構完美 |
| 3段或7段 | 8分 | 結構良好 |
| 其他 | 5分 | 結構需改善 |

**評分原則:**
- 理想段落數為4-6段(開頭、主體2-4段、結尾)
- 過少段落(≤2)表示缺乏層次
- 過多段落(≥8)可能導致邏輯破碎

#### 2.2 句子分布 (0-10分)

| 句子總數 | 得分 | 評語 |
|---------|------|------|
| ≥ 15句 | 10分 | 句子數量充足 |
| 10-14句 | 8分 | 句子數量良好 |
| 5-9句 | 6分 | 句子數量適中 |
| < 5句 | 4分 | 句子數量不足 |

**評分原則:**
- 句子以中文句號(。)、驚嘆號(!)、問號(?)分隔
- 適當的句子數量有助於論述展開

#### 2.3 平均句長 (0-5分)

```
平均句長 = 總字數 / 句子數量
```

| 平均句長 | 得分 | 評語 |
|---------|------|------|
| 15-30字 | 5分 | 句長適中 |
| 10-14字或31-40字 | 4分 | 句長尚可 |
| 其他 | 3分 | 句長需調整 |

**評分原則:**
- 過短(<10字)可能導致語意破碎
- 過長(>40字)可能造成閱讀困難
- 理想句長為15-30字之間

---

### 三、文法評分 (0-25分)

文法評分採用**扣分制**,從滿分25分開始扣除,評估要點包括:

#### 3.1 標點符號使用 (扣5分)

**標點符號使用率檢查:**
```
標點使用率 = 標點符號數量 / 句子數量
```

| 標點使用率 | 扣分 | 評語 |
|-----------|------|------|
| ≥ 0.5 | 0分 | 標點使用正常 |
| < 0.5 | -5分 | 標點使用不足 |

**評分原則:**
- 檢查是否適當使用各類標點符號(，。！？、；：)
- 標點符號應與語意停頓相符

#### 3.2 文法錯誤檢測 (視錯誤扣分)

**常見文法錯誤類型:**
- 主詞與動詞不一致
- 語序錯誤
- 時態混亂
- 助詞誤用
- 語意矛盾

**評分方式:**
- 系統可整合進階文法檢查工具(如LanguageTool)
- 每發現一處明顯錯誤扣1-2分
- 最低得分為0分(不會出現負分)

---

### 四、用詞評分 (0-15分)

用詞評分評估作文的**詞彙運用能力**,分為兩個子項目:

#### 4.1 詞彙豐富度 (0-10分)

同樣使用**TTR指標**:

| TTR值 | 得分 | 評語 |
|-------|------|------|
| ≥ 0.6 | 10分 | 詞彙極為豐富 |
| 0.5-0.59 | 8分 | 詞彙豐富 |
| 0.4-0.49 | 6分 | 詞彙適中 |
| 0.3-0.39 | 4分 | 詞彙略單調 |
| < 0.3 | 2分 | 詞彙過於重複 |

#### 4.2 用詞複雜度 (0-5分)

基於**詞彙總數**評估:

| 詞彙總數 | 得分 | 評語 |
|---------|------|------|
| ≥ 500詞 | 5分 | 詞彙運用成熟 |
| 300-499詞 | 4分 | 詞彙運用良好 |
| 200-299詞 | 3分 | 詞彙運用基本 |
| < 200詞 | 2分 | 詞彙運用不足 |

**評分原則:**
- 較多的詞彙總數通常代表較豐富的表達
- 考量文章長度與詞彙密度的平衡

---

## 等級劃分

根據總分給予對應等級:

| 總分範圍 | 等級 | 評價 |
|---------|------|------|
| 90-100分 | A+ | 優秀 |
| 85-89分 | A | 優良 |
| 80-84分 | A- | 良好 |
| 75-79分 | B+ | 中上 |
| 70-74分 | B | 中等 |
| 65-69分 | B- | 中下 |
| 60-64分 | C+ | 及格 |
| 55-59分 | C | 略低於及格 |
| 50-54分 | C- | 不及格 |
| 45-49分 | D | 待加強 |
| < 45分 | F | 需大幅改進 |

---

## 評分流程

### 步驟1: 文本前處理
1. OCR圖片識別(如為手寫作文)
2. 文本清理與格式化
3. 繁簡體統一處理

### 步驟2: 特徵提取
```python
features = {
    'char_count': 總字元數,
    'word_count': 總詞彙數,
    'sentence_count': 句子數量,
    'paragraph_count': 段落數量,
    'vocabulary_richness': TTR值,
    'avg_sentence_length': 平均句長
}
```

### 步驟3: 分項評分
```python
scores = {
    'content': _score_content(),      # 0-35分
    'structure': _score_structure(),  # 0-25分
    'grammar': _score_grammar(),      # 0-25分
    'vocabulary': _score_vocabulary() # 0-15分
}
```

### 步驟4: 總分計算與等級判定
```python
total_score = sum(scores.values())  # 0-100分
grade = _get_grade(total_score)     # A+~F等級
```

### 步驟5: 生成評分報告
- 各項得分與分析
- 優點與待改進處
- 具體修改建議

---

## 使用範例

### 輸入範例
```
作文標題: 我的夢想
內容: (略,假設為600字的作文)
```

### 輸出範例
```json
{
  "scores": {
    "content": 27,
    "structure": 20,
    "grammar": 22,
    "vocabulary": 12,
    "total": 81
  },
  "grade": "A-",
  "feedback": {
    "strengths": [
      "文章結構完整,段落安排合理",
      "字數充足,內容豐富"
    ],
    "improvements": [
      "可增加詞彙多樣性,避免重複用詞",
      "部分句子略長,建議適度拆分"
    ]
  }
}
```

---

## 注意事項

1. **評分客觀性**: 系統評分基於量化指標,建議輔以人工複審
2. **題材差異**: 不同文體(記敘文、議論文、抒情文)可能需要調整權重
3. **持續優化**: 建議收集實際評分數據,不斷優化演算法參數
4. **隱私保護**: 作文內容僅用於評分,不得外洩或作其他用途

---

## 版本資訊

- **版本**: v1.0
- **更新日期**: 2025-10-23
- **維護單位**: LEAP學習增強適性化平台
- **聯絡方式**: [待填入]

---

## 附錄

### A. TTR值計算說明
```python
def calculate_ttr(text):
    """
    計算Type-Token Ratio(詞彙豐富度)
    
    TTR = 不重複詞彙數 / 總詞彙數
    """
    words = segment(text)  # 分詞
    unique_words = set(words)
    
    if len(words) == 0:
        return 0.0
    
    return len(unique_words) / len(words)
```

### B. 文法檢查工具推薦
- **LanguageTool**: 開源多語言文法檢查工具
- **中文分詞工具**: jieba、pkuseg、CKIP等
- **句法分析器**: Stanford Parser、HanLP等

### C. 評分系統技術架構
```
[作文輸入] → [OCR識別] → [文本分析] → [特徵提取]
    ↓
[評分引擎] → [規則匹配] + [機器學習模型]
    ↓
[評分報告] → [反饋建議] → [學習追蹤]
```

---

**本說明書如有未盡事宜,以最新公告為準。**
